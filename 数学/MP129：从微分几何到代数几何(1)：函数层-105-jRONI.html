<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="UTF-8">
        <title>
            MP129：从微分几何到代数几何(1)：函数层
        </title>
        <link rel="stylesheet" type="text/css" href="print.css" media="print">
        <style type="text/css">
            *,::after,::before{box-sizing: border-box;}body{font-size: 1.2rem;line-height: 1.5em;background-color: #f6f6f6;font-family: "PT Serif", "Times New Roman", Times, serif, "Helvetica Neue", Helvetica, Arial, sans-serif;color: rgb(31, 9, 9);}.article{max-width: 50em;margin: 0px auto;padding: 6em;background: #fff;overflow: hidden;border-radius: 2px;-webkit-box-shadow: 0 1px 3px rgba(26, 26, 26, 0.1);box-shadow: 0 1px 3px rgba(26, 26, 26, 0.1);-webkit-box-sizing: border-box;box-sizing: border-box;}p{margin-bottom: 1.5em;line-height: inherit;}p img[eeimg]{display: inline-block;margin: 0 3px;max-width: 100%;vertical-align: middle;}p + ul,p + ol{margin-top: 0.5em;}blockquote{margin: 0 2em;background: #eee;border-radius: 5px;padding: 15px;color: rgb(101, 101, 101);font-style: italic;}blockquote p{background: #eee;border-radius: 5px;}blockquote p::before{content: "\201C";}blockquote p::after{content: "\201D";}blockquote ul,blockquote ol{margin-left: 0px;}blockquote::before,blockquote::after,q::before,q::after{content: none;}blockquote > :first-child,li > :first-child{margin-top: 0px;}blockquote > :last-child{margin-bottom: 0px;}blockquote,q{quotes: none;}a{cursor: pointer;text-decoration: none;color: #3ac19f;}a:hover,a:active{text-decoration: none;color: #ff6188;outline: 0px;}a.url{word-break: break-all;}table tr th{border-bottom: 0px;}table{border-collapse: collapse;border-spacing: 0px;margin-bottom: 1.5em;font-size: 1em;width: 100%;overflow: auto;break-inside: auto;text-align: left;}header,footer{font-family: "PT Serif", "Times New Roman", Times, serif;color: rgb(31, 9, 9);}thead{background-color: rgb(218, 218, 218);display: table-header-group;}thead th,tfoot th{padding: 0.25em 0.25em 0.25em 0.4em;text-transform: uppercase;}tr{break-inside: avoid;break-after: auto;}tr:nth-child(2n){background: rgb(232, 231, 231);}th{text-align: left;}td{vertical-align: top;padding: 0.25em 0.25em 0.25em 0.4em;}tt{font-size: 0.8em;line-height: 1.7em;}ol,ul{text-indent: 0;position: relative;list-style: none;margin: 0px 0px 1.5em 1.5em;}ol li{list-style-type: decimal;list-style-position: outside;}ul li{list-style-type: disc;list-style-position: outside;}li div{padding-top: 0px;}li{margin: 0px;margin-left: 2em;position: relative;}li > figure:last-child{margin-bottom: 0.5rem;}li > :first-child{margin-top: 0px;}li > ul,li > ol{margin-top: inherit;margin-bottom: 0px;}li ol > li{list-style-type: lower-alpha;}li li ol > li{list-style-type: lower-roman;}kbd{margin: 0px 0.1em;padding: 0.1em 0.6em;font-size: 0.8em;color: rgb(36, 39, 41);background: rgb(255, 255, 255);border: 1px solid rgb(173, 179, 185);border-radius: 3px;box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px,rgb(255, 255, 255) 0px 0px 0px 2px inset;white-space: nowrap;vertical-align: middle;}samp,tt{font-family: var(--monospace);}hr{border-bottom: 1px solid #d6d6d6;margin-inline-start: 15%;margin-inline-end: 15%;margin-block-start: 5rem;margin-block-end: 5rem;}u{text-decoration: none;border-bottom: 1px dashed #f40;}figure{margin: 2em auto;max-width: 100%;padding: 0px;font-size: 1rem;text-align: center;}figure img{display: block;max-width: 60%;margin: auto;}figure figcaption{padding: 0 1em;font-size: 0.9rem;color: #999;}figure > table{margin: 0px !important;}div.hr:focus{cursor: none;}a img,img a{cursor: pointer;}
        </style>
        <style type="text/css">
            .background-image{text-align: center;max-width: inherit;}.background-image img{max-width: 100%;}.video{max-width: inherit;margin: 80px auto;}.video-cover{max-width: inherit;background-color: #141216;}.video img{height: 400px;display: block;margin: 0 auto;}.video-tip{border-radius: 0 0 8px 8px;max-width: inherit;height: 34px;text-align: center;}.header{margin-bottom: 80px;}.title{font-size: 36px;margin-bottom: 80px;text-align: center;line-height: 42px;}.AuthorInfo,.Avatar{border-radius: 5px;}.Popover{width: 50px;height: 50px;}.AuthorInfo{width: 240px;margin: auto;}.AuthorInfo-content{position: relative;left: 60px;top: -50px;line-height: 1em;padding: 6px 0;}.AuthorInfo-name{font-size: 28px;}.AuthorInfo-detail{font-size: 16px;margin-top: 8px;}.Popover,.AuthorInfo,.AuthorInfo-content,.AuthorInfo{height: 50px;}.LinkCard{margin: 1em auto;width: 390px !important;border-radius: 12px;}.LinkCard-content{position: relative;display: -webkit-box;display: -ms-flexbox;display: flex;-webkit-box-align: center;-ms-flex-align: center;align-items: center;-webkit-box-pack: justify;-ms-flex-pack: justify;justify-content: space-between;padding: 12px;border-radius: inherit;background-color: hsla(0, 0%, 96.5%, 0.88);}.LinkCard-text{overflow: hidden;}.LinkCard-title{display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;overflow: hidden;text-overflow: ellipsis;max-height: 40px;font-size: 16px;font-weight: 500;line-height: 1.25;color: #1a1a1a;}.LinkCard-meta{display: -webkit-box;display: -ms-flexbox;display: flex;margin-top: 4px;font-size: 14px;line-height: 20px;color: #999;white-space: nowrap;}.LinkCard-imageCell{margin-left: 8px;border-radius: 6px;}.LinkCard-image{display: block;margin: 0 !important;width: 60px;height: 60px;-o-object-fit: cover;object-fit: cover;border-radius: inherit;}.LinkCard-image--default{display: -webkit-box;display: -ms-flexbox;display: flex;-webkit-box-align: center;-ms-flex-align: center;align-items: center;-webkit-box-pack: center;-ms-flex-pack: center;justify-content: center;background-color: #ebebeb;color: #d3d3d3;}svg:not(:root){overflow: hidden;}.TipCard,.LinkCard{position: relative;display: block;width: inherit;-webkit-box-sizing: border-box;box-sizing: border-box;max-width: 100%;overflow: hidden;text-indent: 0 !important;}.TipCard,.LinkCard,.TipCard:hover,.LinkCard:hover{text-decoration: none;border: none !important;color: inherit !important;}.TipCard-backdrop,.LinkCard-backdrop{position: absolute;top: 0;left: 0;right: 0;bottom: 0;background-repeat: no-repeat;-webkit-filter: blur(20px);filter: blur(20px);background-size: cover;background-position: 50%;}.divide{height: 30px;max-width: 45em;margin: 0 auto;}.reference{text-indent: 0;font-size: 14px;}.reference tr:nth-child(2n){background: white;}
        </style>
    </head>
    <body>
        <div class="article">
            <div class="header">
                <div class="background-image">
                    <img src="https://pic4.zhimg.com/v2-a060ef20f6add095f6e6166d62e63d66_720w.jpg?source=172ae18b" alt="background image">
                </div>
                <div class="title">
                    <a href="https://zhuanlan.zhihu.com/p/47077723" target="_blank">
                        MP129：从微分几何到代数几何(1)：函数层
                    </a>
                </div>
                <a class="UserLink-link" target="_blank" href="https://www.zhihu.com/people/smdw">
                    <div class="AuthorInfo">
                        <div class="Popover">
                            <img class="Avatar" width="50" height="50" src="https://pic1.zhimg.com/v2-c4aa9b3e46782eb49a182cd7ed914acf.jpg?source=172ae18b" alt="头像">
                        </div>
                        <div class="AuthorInfo-content">
                            <div class="AuthorInfo-name">
                                <span>
                                    jRONI
                                </span>
                            </div>
                            <div class="AuthorInfo-detail">
                                <span>
                                    2019-11-05
                                </span>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            <div class="text">
                <p>
                    我们试图在这一系列中：
                </p>
                <ul>
                    <li>
                        从微分流形上的函数过渡到一般的层
                    </li>
                    <li>
                        从拓扑学的拓扑空间过渡到Grothendieck拓扑、Zariski拓扑
                    </li>
                    <li>
                        从流形过渡到概形
                    </li>
                    <li>
                        阐述概形的可表函子是层
                    </li>
                    <li>
                        从微分几何的de Rham上同调过渡到层上同调
                    </li>
                </ul>
                <p>
                    这样完成从微分几何到代数几何的过渡。
                </p>
                <p>
                    常用参考书：
                </p>
                <ul>
                    <li>
                        [Vakil2017] The Rising Sea: Foundations of Algebraic Geometry
                    </li>
                    <li>
                        [Hartshorne1977-GTM52] Algebraic Geometry
                    </li>
                    <li>
                        [Kashiwara1990] Sheaves on manifolds
                    </li>
                    <li>
                        [MacLane1992] Sheaves in geometry
                    </li>
                </ul>
                <p>
                    GTM52离现在有40+年了，如果用它作为起步，会发现很多论述比较老套。我们推荐的是[Vakil2017]今年的版本，可以看到当代数学家更加范畴化的思维方式。
                </p>
                <hr>
                <p>
                    Hausdorff空间
                    <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1">
                    的任意点都存在和欧式空间同胚的开集，则构成(拓扑)流形，反过来说流形是由欧式空间粘合起来的整体结构。在流形上赋予光滑的微分结构则构成光滑的微分流形。微分结构的定义中蕴含了函数可微的要求，这种思想反应到几何中，即用流形上的函数来研究流形本身，就是我们要谈论的
                    <b>
                        层(sheaf)
                    </b>
                    。
                </p>
                <blockquote>
                    给定拓扑空间
                    <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1">
                    ，符号
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+O_X" alt="\mathcal O_X" eeimg="1">
                    表示拓扑空间
                    <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1">
                    上的环层，即
                    <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1">
                    上的一个在环范畴取值的层。
                    <img src="https://www.zhihu.com/equation?tex=%28X%2C%5Cmathcal+O_X%29" alt="(X,\mathcal O_X)" eeimg="1">
                    称为拓扑空间
                    <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1">
                    上的
                    <b>
                        赋环空间(ringed space)
                    </b>
                    。
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+O_X" alt="\mathcal O_X" eeimg="1">
                    也称为赋环空间上的
                    <b>
                        结构层(structure sheaf)
                    </b>
                    。对于拓扑空间上的点
                    <img src="https://www.zhihu.com/equation?tex=p+%5Cin+X" alt="p \in X" eeimg="1">
                    ，层的
                    <b>
                        茎(stalk)
                    </b>
                    记为
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+O_%7BX%2Cp%7D" alt="\mathcal O_{X,p}" eeimg="1">
                    。
                </blockquote>
                <p>
                    以上罗列了一些关键概念，在给出详尽的定义和讨论之前，我们先接受一个事实：
                </p>
                <blockquote>
                    微分流形
                    <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1">
                    上的可微函数构成可微函数环层
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+O_X" alt="\mathcal O_X" eeimg="1">
                    ，从而微分流形是赋环空间。
                </blockquote>
                <p>
                    微分流形的这一结构，在代数几何中可以类比于
                    <b>
                        概形(scheme)
                    </b>
                    。理解层的概念是从微分几何过渡到代数结合的关键思维步骤。
                </p>
                <p>
                    下面讨论如何从微分流形得到层的概念。以陈省身的微分几何为例，为了定义余切空间，需要讨论可微流形
                    <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1">
                    上的可微函数
                    <img src="https://www.zhihu.com/equation?tex=f%2Cg+%5Cin+C%5E1%28X%29" alt="f,g \in C^1(X)" eeimg="1">
                    在固定点
                    <img src="https://www.zhihu.com/equation?tex=p+%5Cin+X" alt="p \in X" eeimg="1">
                    <b>
                        附近
                    </b>
                    是否相等。附近是一个需要严格表达的概念，按照分析学的逻辑陈述为：如果存在
                    <img src="https://www.zhihu.com/equation?tex=p+" alt="p" eeimg="1">
                    的邻域
                    <img src="https://www.zhihu.com/equation?tex=H%28p%29" alt="H(p)" eeimg="1">
                    使得函数限制在邻域上相等，则函数等价，商集为
                    <b>
                        函数芽(germ)
                    </b>
                    ：
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=f%7C_%7BH%28p%29%7D+%3D+g%7C_%7BH%28p%29%7D+%5CLeftrightarrow+f+%5Csim+g+%5CLeftrightarrow+%5Bf%5D+%3D+%5Bg%5D+%5Cin+C_p%5E1%28X%29%2F%5Csim+%5C%5C" alt="f|_{H(p)} = g|_{H(p)} \Leftrightarrow f \sim g \Leftrightarrow [f] = [g] \in C_p^1(X)/\sim \\" eeimg="1">
                </p>
                <p>
                    这是一个极限过程，在比较两个函数
                    <img src="https://www.zhihu.com/equation?tex=f%2Cg+%5Cin+C%5E1%28X%29" alt="f,g \in C^1(X)" eeimg="1">
                    在固定点
                    <img src="https://www.zhihu.com/equation?tex=p+%5Cin+X" alt="p \in X" eeimg="1">
                    附近是否局部相等的过程中，需要缩小
                    <img src="https://www.zhihu.com/equation?tex=p" alt="p" eeimg="1">
                    的邻域，直到出现邻域
                    <img src="https://www.zhihu.com/equation?tex=H%28p%29" alt="H(p)" eeimg="1">
                    满足
                    <img src="https://www.zhihu.com/equation?tex=f%7C_%7BH%28p%29%7D+%3D+g%7C_%7BH%28p%29%7D+" alt="f|_{H(p)} = g|_{H(p)}" eeimg="1">
                    。
                </p>
                <h2>
                    预层
                </h2>
                <p>
                    微分几何研究的是具有微分结构的微分流形，其底层的结构是拓扑空间，即拓扑空间范畴
                    <img src="https://www.zhihu.com/equation?tex=%5Ctextbf%7BTop%7D" alt="\textbf{Top}" eeimg="1">
                    中的对象
                    <img src="https://www.zhihu.com/equation?tex=%28X%2C%5Ctau%29+%5Cin+%5Ctext%7BOb%7D%28%5Ctextbf%7BTop%7D%29" alt="(X,\tau) \in \text{Ob}(\textbf{Top})" eeimg="1">
                    。层是对拓扑空间
                    <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1">
                    中开集之间相互关系的范畴化描述，为了方便讨论，以拓扑空间
                    <img src="https://www.zhihu.com/equation?tex=%28X%2C%5Ctau%29" alt="(X,\tau)" eeimg="1">
                    中的开集为对象：
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=U%2CV+%5Cin+%5Ctau+%5C%5C" alt="U,V \in \tau \\" eeimg="1">
                    根据其
                    <b>
                        包含(inclusion)
                    </b>
                    关系规定态射
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=%5Ctext%7BHom%7D%28V%2CU%29+%3D++%5Cbegin%7Bcases%7D+%5C%7B%5Crho_%7BUV%7D%5C%7D%2C+%26+V+%5Csubseteq+U+%5C%5C++%5Cvarnothing%2C+%26+V+%5Cnsubseteq+U+%5C%5C++%5Cend%7Bcases%7D+%5C%5C" alt="\text{Hom}(V,U) =  \begin{cases} \{\rho_{UV}\}, &amp; V \subseteq U \\  \varnothing, &amp; V \nsubseteq U \\  \end{cases} \\" eeimg="1">
                </p>
                <p>
                    这样构造出的拓扑空间
                    <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1">
                    上的开集范畴记为
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathfrak%7BTop%7D%28X%29" alt="\mathfrak{Top}(X)" eeimg="1">
                    ，它描述了拓扑空间中开集之间的包含关系，若集合有包含关系
                    <img src="https://www.zhihu.com/equation?tex=V+%5Csubseteq+U" alt="V \subseteq U" eeimg="1">
                    则
                    <img src="https://www.zhihu.com/equation?tex=V+%5Chookrightarrow+U" alt="V \hookrightarrow U" eeimg="1">
                    构成包含映射。
                </p>
                <p>
                    我们希望为拓扑空间的每一个开集赋予一个代数结构，这个结构是一个有
                    <b>
                        零对象(zero object)
                    </b>
                    的范畴
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+C" alt="\mathcal C" eeimg="1">
                    中的对象。此外，对于拓扑空间中开集的包含关系，也赋予范畴
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+C" alt="\mathcal C" eeimg="1">
                    中对象的态射，构成以下反变函子
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathscr+F%3A%5Cmathfrak%7BTop%7D%28X%29%5E%5Ctext%7Bop%7D+%5Cto+%5Cmathcal+C+%5C%5C" alt="\mathscr F:\mathfrak{Top}(X)^\text{op} \to \mathcal C \\" eeimg="1">
                </p>
                <p>
                    称为拓扑空间
                    <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1">
                    上的
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+C" alt="\mathcal C" eeimg="1">
                    <b>
                        预层(presheaf)
                    </b>
                    ，它赋予拓扑空间的每个空间以一个
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+C" alt="\mathcal C" eeimg="1">
                    ​中的对象，且把拓扑空间中开集的包含关系对应到​
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+C" alt="\mathcal C" eeimg="1">
                    ​中的态射。​
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathscr+F%28U%29+%5Cin+%5Ctext%7BOb%7D%28%5Cmathcal+C%29" alt="\mathscr F(U) \in \text{Ob}(\mathcal C)" eeimg="1">
                    为预层在开集上的
                    <b>
                        截面(section)
                    </b>
                    。
                </p>
                <p>
                    可微流形
                    <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1">
                    上的可微函数集合
                    <img src="https://www.zhihu.com/equation?tex=C%5E1%28X%29" alt="C^1(X)" eeimg="1">
                    具有自然的函数环的结构。在开集范畴
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathfrak%7BTop%7D%28X%29" alt="\mathfrak{Top}(X)" eeimg="1">
                    中，给定开集
                    <img src="https://www.zhihu.com/equation?tex=U+%5Cin+%5Ctext%7BOb%7D%28%5Cmathfrak%7BTop%7D%28X%29%29" alt="U \in \text{Ob}(\mathfrak{Top}(X))" eeimg="1">
                    ，可微函数环
                    <img src="https://www.zhihu.com/equation?tex=C%5E1%28X%29" alt="C^1(X)" eeimg="1">
                    限制在
                    <img src="https://www.zhihu.com/equation?tex=U" alt="U" eeimg="1">
                    上也构成一个函数环
                    <img src="https://www.zhihu.com/equation?tex=C%5E1%28U%29" alt="C^1(U)" eeimg="1">
                    。对于具有包含关系的开集
                    <img src="https://www.zhihu.com/equation?tex=V+%5Csubseteq+U" alt="V \subseteq U" eeimg="1">
                    ，可微函数环
                    <img src="https://www.zhihu.com/equation?tex=C%5E1%28U%29" alt="C^1(U)" eeimg="1">
                    限制到
                    <img src="https://www.zhihu.com/equation?tex=V" alt="V" eeimg="1">
                    上则构成函数环
                    <img src="https://www.zhihu.com/equation?tex=C%5E1%28V%29" alt="C^1(V)" eeimg="1">
                    ，且限制映射是环同态。于是定义可微函数层：
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%7D+%5Cmathscr+F%3A%5Cmathfrak%7BTop%7D%28X%29%5E%5Ctext%7Bop%7D+%26%5Cto+%5Ctextbf%7BCRng%7D+%5C%5C+U+%26%5Cmapsto+%5Cmathscr+F%28U%29+%3D+%5Cmathcal+O%28U%29+%5C%5C+V+%26%5Cmapsto+%5Cmathscr+F%28V%29+%3D+%5Cmathcal+O%28V%29+%5C%5C+%5Ctext%7BHom%7D%28V%2CU%29+%26%5Cto+%5Ctext%7BHom%7D%28%5Cmathcal+O%28U%29%2C%5Cmathcal+O%28V%29%29+%5C%5C+%5Cend%7Balign%7D%5C%5C" alt="\begin{align} \mathscr F:\mathfrak{Top}(X)^\text{op} &amp;\to \textbf{CRng} \\ U &amp;\mapsto \mathscr F(U) = \mathcal O(U) \\ V &amp;\mapsto \mathscr F(V) = \mathcal O(V) \\ \text{Hom}(V,U) &amp;\to \text{Hom}(\mathcal O(U),\mathcal O(V)) \\ \end{align}\\" eeimg="1">
                </p>
                <p>
                    函子将集合范畴中的包含关系对应到函数的限制即
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%7D+%5Cmathcal+O%28U%29+%26%5Cto+%5Cmathcal+O%28V%29+%5C%5C+u+%26%5Cmapsto+u+%7C_V+%5C%5C+%5Cend%7Balign%7D+%5C%5C" alt="\begin{align} \mathcal O(U) &amp;\to \mathcal O(V) \\ u &amp;\mapsto u |_V \\ \end{align} \\" eeimg="1">
                    这样就构建了可微函数预层
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+O_X" alt="\mathcal O_X" eeimg="1">
                    。由于范畴的灵活性，也可以类似定义限制为可微函数预层、光滑函数预层、解析函数预层等等。
                </p>
                <h2>
                    层
                </h2>
                <p>
                    预层描述了开集的包含关系，进一步要考虑拓扑空间的覆盖和粘合，在预层上发展出层的概念。对于预层
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathscr+F%3A%5Cmathfrak%7BTop%7D%28X%29%5E%5Ctext%7Bop%7D+%5Cto+%5Cmathcal+C" alt="\mathscr F:\mathfrak{Top}(X)^\text{op} \to \mathcal C" eeimg="1">
                    ，若对于任意开集上的开覆盖
                    <img src="https://www.zhihu.com/equation?tex=%5C%7BU_k%5C%7D+%5Csupseteq+U" alt="\{U_k\} \supseteq U" eeimg="1">
                    ，以下映射
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=%5Ccdot+%5Clongrightarrow+%5Cmathscr+F%28U%29+%5Clongrightarrow+%5Cprod++%5Cmathscr+F%28U_i%29+%5Crightrightarrows+%5Cprod+%5Cmathscr+F%28U_i+%5Ccap+U_j%29+%5C%5C" alt="\cdot \longrightarrow \mathscr F(U) \longrightarrow \prod  \mathscr F(U_i) \rightrightarrows \prod \mathscr F(U_i \cap U_j) \\" eeimg="1">
                </p>
                <p>
                    构成
                    <b>
                        均衡子正合序列(equalizer exact sequence)
                    </b>
                    ，那么就称预层为
                    <b>
                        层(sheaf)
                    </b>
                    。举例说明：可微流形上的可微函数预层
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+O_X" alt="\mathcal O_X" eeimg="1">
                    构成可微函数层。对于开集
                    <img src="https://www.zhihu.com/equation?tex=U+%5Cin+%5Ctext%7BOb%7D%28%5Cmathfrak%7BTop%7D%28X%29%29" alt="U \in \text{Ob}(\mathfrak{Top}(X))" eeimg="1">
                    ，有开覆盖
                    <img src="https://www.zhihu.com/equation?tex=%5C%7BU_k%5C%7D+%5Csupseteq+U" alt="\{U_k\} \supseteq U" eeimg="1">
                    。通过层函子得到限制在
                    <img src="https://www.zhihu.com/equation?tex=U" alt="U" eeimg="1">
                    的可微函数环
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+O%28U%29" alt="\mathcal O(U)" eeimg="1">
                    。
                </p>
                <ol>
                    <li>
                        对于可微函数
                        <img src="https://www.zhihu.com/equation?tex=f+%5Cin+%5Cmathcal+O%28U%29" alt="f \in \mathcal O(U)" eeimg="1">
                        ，预层的结构有
                        <img src="https://www.zhihu.com/equation?tex=f+%5Cmapsto+f%7C_%7BU_i%7D" alt="f \mapsto f|_{U_i}" eeimg="1">
                        的限制过程。如果它限制在所有的覆盖上都有
                        <img src="https://www.zhihu.com/equation?tex=f%7C_%7BU_i%7D+%3D+0" alt="f|_{U_i} = 0" eeimg="1">
                        那么
                        <img src="https://www.zhihu.com/equation?tex=f%3D0" alt="f=0" eeimg="1">
                        。也就是说，预层函子在覆盖
                        <img src="https://www.zhihu.com/equation?tex=%5C%7BU_k%5C%7D" alt="\{U_k\}" eeimg="1">
                        上的退化（到零对象）要求预层函子在被覆盖的开集
                        <img src="https://www.zhihu.com/equation?tex=U" alt="U" eeimg="1">
                        退化。
                    </li>
                    <li>
                        以上的均衡子正合序列要求，当预层函子在覆盖
                        <img src="https://www.zhihu.com/equation?tex=%5C%7BU_k%5C%7D" alt="\{U_k\}" eeimg="1">
                        上产生相等关系，即对于
                        <img src="https://www.zhihu.com/equation?tex=f_i%7C+%5Cin+%5Cmathcal+O%28U_i%29" alt="f_i| \in \mathcal O(U_i)" eeimg="1">
                        和
                        <img src="https://www.zhihu.com/equation?tex=f_j%7C+%5Cin+%5Cmathcal+O%28U_j%29" alt="f_j| \in \mathcal O(U_j)" eeimg="1">
                        这两个来自不同函数环的函数，当
                        <img src="https://www.zhihu.com/equation?tex=U_i+%5Ccap+U_j+%5Cneq+%5Cvarnothing" alt="U_i \cap U_j \neq \varnothing" eeimg="1">
                        即开集相交时，限制在交集上有
                        <img src="https://www.zhihu.com/equation?tex=f_i%7C_%7BU_i%5Ccap+U_j%7D+%3D+f_j%7C_%7BU_i%5Ccap+U_j%7D" alt="f_i|_{U_i\cap U_j} = f_j|_{U_i\cap U_j}" eeimg="1">
                        ，此时要求存在唯一的
                        <img src="https://www.zhihu.com/equation?tex=f+%5Cin+%5Cmathcal+O%28U%29" alt="f \in \mathcal O(U)" eeimg="1">
                        使得
                        <img src="https://www.zhihu.com/equation?tex=f%7C_%7BU_i%7D+%3D+f_i" alt="f|_{U_i} = f_i" eeimg="1">
                        。也就是说，对于开覆盖中相交的开集，在交集上两边的函数相等，产生了粘合的效果。
                    </li>
                </ol>
                <p>
                    概括而言，在预层中，通过函子
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathscr+F%3A%5Cmathfrak%7BTop%7D%28X%29%5E%5Ctext%7Bop%7D+%5Cto+%5Cmathcal+C" alt="\mathscr F:\mathfrak{Top}(X)^\text{op} \to \mathcal C" eeimg="1">
                    的作用，开集的包含关系对应到
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+C" alt="\mathcal C" eeimg="1">
                    范畴中代数结构的态射关系，在固定点上开邻域（作为开集）缩小的极限过程对应了
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+C" alt="\mathcal C" eeimg="1">
                    范畴中代数结构的局部化过程。
                </p>
                <p>
                    在层中，不仅有这样的局部化过程，而且通过覆盖上的均衡子正合的要求，确保在开集的交集
                    <img src="https://www.zhihu.com/equation?tex=U_i+%5Ccap+U_j" alt="U_i \cap U_j" eeimg="1">
                    上，代数结构是相容的，反过来说，整个层也可以视为不同的开集
                    <b>
                        粘合(glue)
                    </b>
                    的结果，而粘合的重叠部分要靠这种相容性来保障。
                </p>
                <p>
                    微分几何提供了绝好的例子。可微流形的定义中所谓的
                    <b>
                        坐标卡(chart)
                    </b>
                    和
                    <b>
                        图集(atlas)
                    </b>
                    ，其实就是对拓扑空间
                    <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1">
                    带有局部坐标系的开覆盖。坐标卡之间的相容性是定义在有相邻关系的坐标卡/开覆盖之间的，即在交集上要求相容，而这种相容性就体现在层中。
                </p>
                <p>
                    令
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathscr+F%3A+%5Cmathfrak%7BTop%7D%28X%29+%5Cto+%5Cmathcal+O_X" alt="\mathscr F: \mathfrak{Top}(X) \to \mathcal O_X" eeimg="1">
                    为可微函数层，取拓扑空间
                    <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1">
                    中交集
                    <img src="https://www.zhihu.com/equation?tex=U+%5Ccap+V+%5Cneq+%5Cvarnothing" alt="U \cap V \neq \varnothing" eeimg="1">
                    非空的两个开集，其并集
                    <img src="https://www.zhihu.com/equation?tex=U+%5Ccup+V" alt="U \cup V" eeimg="1">
                    被对应到
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathscr+F%28U+%5Ccup+V%29" alt="\mathscr F(U \cup V)" eeimg="1">
                    ，考虑任意可微函数限制在交集上
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%7D+%5Cmathscr+F%3A+%5Cmathfrak%7BTop%7D%28X%29+%26%5Cto+%5Cmathcal+O_X+%5C%5C+U+%26%5Cmapsto+%5Cmathscr+F%28U%29+%5C%5C+V+%26%5Cmapsto+%5Cmathscr+F%28V%29+%5C%5CU+%5Ccap+V+%26%5Cmapsto+%5Cmathscr+F%28U%5Ccap+V%29+%5C%5C+%5Cend%7Balign%7D+%5C%5C" alt="\begin{align} \mathscr F: \mathfrak{Top}(X) &amp;\to \mathcal O_X \\ U &amp;\mapsto \mathscr F(U) \\ V &amp;\mapsto \mathscr F(V) \\U \cap V &amp;\mapsto \mathscr F(U\cap V) \\ \end{align} \\" eeimg="1">
                </p>
                <p>
                    如果有两个可微函数
                    <img src="https://www.zhihu.com/equation?tex=u%3D%5Cmathscr+F%28U%29" alt="u=\mathscr F(U)" eeimg="1">
                    和
                    <img src="https://www.zhihu.com/equation?tex=v%3D%5Cmathscr+F%28V%29" alt="v=\mathscr F(V)" eeimg="1">
                    ，它们限制在交集上相等：
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=u%7C_%7BU+%5Ccap+V%7D+%3D+v%7C_%7BU+%5Ccap+V%7D+%5Cin+%5Cmathscr+F%28U%5Ccap+V%29+%5C%5C" alt="u|_{U \cap V} = v|_{U \cap V} \in \mathscr F(U\cap V) \\" eeimg="1">
                    这样相当于可微函数
                    <img src="https://www.zhihu.com/equation?tex=u" alt="u" eeimg="1">
                    和
                    <img src="https://www.zhihu.com/equation?tex=v" alt="v" eeimg="1">
                    在交集上粘合起来了，这种粘合表示为层的操作：
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathscr+F%28U%29+%5Ctimes+%5Cmathscr+F%28U%29+%5Cto+%5Cmathscr+F%28U+%5Ccap+V%29+%5C%5C" alt="\mathscr F(U) \times \mathscr F(U) \to \mathscr F(U \cap V) \\" eeimg="1">
                </p>
                <h2>
                    <br>
                    <b>
                        茎
                    </b>
                </h2>
                <p>
                    预层
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathscr+F%3A%5Cmathfrak%7BTop%7D%28X%29%5E%5Ctext%7Bop%7D+%5Cto+%5Cmathcal+C" alt="\mathscr F:\mathfrak{Top}(X)^\text{op} \to \mathcal C" eeimg="1">
                    为每个开集赋予了
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathcal+C" alt="\mathcal C" eeimg="1">
                    范畴中的代数结构。如果需要进一步局部地考虑拓扑空间上的一点
                    <img src="https://www.zhihu.com/equation?tex=p+%5Cin+X" alt="p \in X" eeimg="1">
                    则需要茎的概念。
                </p>
                <p>
                    点
                    <img src="https://www.zhihu.com/equation?tex=p+%5Cin+X" alt="p \in X" eeimg="1">
                    的一组开邻域
                    <img src="https://www.zhihu.com/equation?tex=%5C%7B+U_k%28p%29+%5C%7D+%5Csubset+%5Ctext%7BOb%7D%28%5Cmathfrak%7BTop%7D%28X%29%29" alt="\{ U_k(p) \} \subset \text{Ob}(\mathfrak{Top}(X))" eeimg="1">
                    ，其中的每个邻域
                    <img src="https://www.zhihu.com/equation?tex=U_k%28x%29" alt="U_k(x)" eeimg="1">
                    又可以确定
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathscr+F%28U_k%28x%29%29" alt="\mathscr F(U_k(x))" eeimg="1">
                    ，即
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=p+%5Cmapsto+%5C%7BU_k%28p%29%5C%7D+%5Cmapsto+%5C%7B%5Cmathscr+F%28U_k%28p%29%29%5C%7D+%5C%5C" alt="p \mapsto \{U_k(p)\} \mapsto \{\mathscr F(U_k(p))\} \\" eeimg="1">
                </p>
                <p>
                    取
                    <img src="https://www.zhihu.com/equation?tex=U_k%28p%29" alt="U_k(p)" eeimg="1">
                    ，并随之取
                    <img src="https://www.zhihu.com/equation?tex=f%5Cin%5Cmathscr+F%28U_k%28p%29%29" alt="f\in\mathscr F(U_k(p))" eeimg="1">
                    ，得到二元组
                    <img src="https://www.zhihu.com/equation?tex=%28U_k%28p%29%2Cf%29" alt="(U_k(p),f)" eeimg="1">
                    。考虑两个拓扑上相交的二元组
                    <img src="https://www.zhihu.com/equation?tex=%28U_1%28p%29%2Cf_1%29" alt="(U_1(p),f_1)" eeimg="1">
                    和
                    <img src="https://www.zhihu.com/equation?tex=%28U_2%28p%29%2Cf_2%29" alt="(U_2(p),f_2)" eeimg="1">
                    ，如果存在开集
                    <img src="https://www.zhihu.com/equation?tex=U%28p%29" alt="U(p)" eeimg="1">
                    ：
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=x+%5Cin+U%28p%29+%5Csubset+U_1%28p%29+%5Ccap+U_2%28p%29+%5C%5C" alt="x \in U(p) \subset U_1(p) \cap U_2(p) \\" eeimg="1">
                    使得
                    <img src="https://www.zhihu.com/equation?tex=f_1" alt="f_1" eeimg="1">
                    和
                    <img src="https://www.zhihu.com/equation?tex=f_2" alt="f_2" eeimg="1">
                    限制在这个邻域中的值相等，那么便定义等价关系
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=f_1%7C_%7BU%28p%29%7D+%3D+f_2%7C_%7BU%28p%29%7D+%5CLeftrightarrow+%28U_1%28p%29%2Cf_1%29+%5Csim+%28U_2%28p%29%2Cf_2%29+%5C%5C" alt="f_1|_{U(p)} = f_2|_{U(p)} \Leftrightarrow (U_1(p),f_1) \sim (U_2(p),f_2) \\" eeimg="1">
                </p>
                <p>
                    根据这个等价关系，可以构造商集：
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathscr+F_p+%3D+%5CBig%5C%7B+%5Cbig%28U_k%28p%29%2Cf+%5Cbig%29%3A++f+%5Cin+%5Cmathscr+F%5Cbig%28U_k%28p%29%5Cbig%29+%5CBig%5C%7D%2F%5Csim+%5C%5C" alt="\mathscr F_p = \Big\{ \big(U_k(p),f \big):  f \in \mathscr F\big(U_k(p)\big) \Big\}/\sim \\" eeimg="1">
                </p>
                <p>
                    称为
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathscr+F" alt="\mathscr F" eeimg="1">
                    在
                    <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1">
                    的
                    <b>
                        茎(stalk)
                    </b>
                    。
                </p>
                <p>
                    不难理解，茎体现了预层的局部相等的关系，在微分几何中就是函数芽。前面提到函数芽的构造是一个极限过程，在比较两个函数
                    <img src="https://www.zhihu.com/equation?tex=f%2Cg+%5Cin+C%5E1%28X%29" alt="f,g \in C^1(X)" eeimg="1">
                    在固定点
                    <img src="https://www.zhihu.com/equation?tex=p+%5Cin+X" alt="p \in X" eeimg="1">
                    附近是否局部相等的过程中，需要缩小
                    <img src="https://www.zhihu.com/equation?tex=p" alt="p" eeimg="1">
                    的邻域，直到出现邻域
                    <img src="https://www.zhihu.com/equation?tex=H%28p%29" alt="H(p)" eeimg="1">
                    满足
                    <img src="https://www.zhihu.com/equation?tex=f%7C_%7BH%28p%29%7D+%3D+g%7C_%7BH%28p%29%7D+" alt="f|_{H(p)} = g|_{H(p)}" eeimg="1">
                    。
                </p>
                <p>
                    用范畴的语言定义这个极限过程更加简洁。以固定点
                    <img src="https://www.zhihu.com/equation?tex=p+%5Cin+X" alt="p \in X" eeimg="1">
                    为内点的邻域，构成了范畴
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathfrak%7BTop%7D%28X%29" alt="\mathfrak{Top}(X)" eeimg="1">
                    中的一组对象
                    <img src="https://www.zhihu.com/equation?tex=%5C%7BU_k%5C%7D" alt="\{U_k\}" eeimg="1">
                    。在预层
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathscr+F%3A%5Cmathfrak%7BTop%7D%28X%29%5E%5Ctext%7Bop%7D+%5Cto+%5Cmathcal+C" alt="\mathscr F:\mathfrak{Top}(X)^\text{op} \to \mathcal C" eeimg="1">
                    的作用下，这组对象对应到
                    <img src="https://www.zhihu.com/equation?tex=%5C%7B%5Cmathscr+F%28U_k%29%5C%7D" alt="\{\mathscr F(U_k)\}" eeimg="1">
                    ，茎就是它们的余极限:
                </p>
                <p>
                    <img src="https://www.zhihu.com/equation?tex=%5Cmathscr+F_p+%3D+%5Clim_%5Crightarrow+%5C%7B%5Cmathscr+F%28U_k%29%5C%7D+%5C%5C" alt="\mathscr F_p = \lim_\rightarrow \{\mathscr F(U_k)\} \\" eeimg="1">
                    对于函数层的情形，
                    <img src="https://www.zhihu.com/equation?tex=f+%5Cin+%5Cmathscr+F%28U%29" alt="f \in \mathscr F(U)" eeimg="1">
                    在这个余极限中的值就是
                    <img src="https://www.zhihu.com/equation?tex=f" alt="f" eeimg="1">
                    在
                    <img src="https://www.zhihu.com/equation?tex=p" alt="p" eeimg="1">
                    点的函数芽。
                </p>
                <h2>
                    <br>
                    Appendix: 一些范畴论的概念
                </h2>
                <p>
                    极限/余极限[Vakil2017]：
                </p>
                <figure>
                    <img src="https://pic3.zhimg.com/v2-bba3c81d840df9cf3bc9c0223b891b6a_r.jpg">
                </figure>
                <figure>
                    <img src="https://pic4.zhimg.com/v2-44ded96ef37561107e3609e3792ce84f_r.jpg">
                </figure>
                <p>
                    均衡子：在下图的
                    <img src="https://www.zhihu.com/equation?tex=f%2Cg%3A+A+%5Cto+B" alt="f,g: A \to B" eeimg="1">
                    映射中，极限
                    <img src="https://www.zhihu.com/equation?tex=K" alt="K" eeimg="1">
                    构成了
                    <b>
                        均衡子(equalizer)
                    </b>
                </p>
                <figure>
                    <img src="https://picb.zhimg.com/v2-1d8e8d5324e82d3d5b3b9be2f7785cea_b.jpg">
                </figure>
                <p>
                    <br>
                </p>
                <p>
                    后继
                </p>
                <p>
                    <a href="https://zhuanlan.zhihu.com/p/51307794" class="internal">
                        MP133：从微分几何到代数几何(2)：多项式环素谱上的Zariski拓扑
                    </a>
                </p>
                <p>
                </p>
                <p>
                </p>
            </div>
        </div>
    </body>
</html>
